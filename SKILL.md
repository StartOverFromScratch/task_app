---
name: requirements-workshop
description: アプリ開発の機能・非機能要件を段階的に引き出し、設計書のたたき台を作成するスキル。PM初級者やSE初級者が「なんとなくこんなシステムが欲しい」というアイデアや課題感を持ち込んだときに使う。ユーザーが「要件を整理したい」「仕様を考えたい」「システムを作りたい」「業務を自動化したい」と言ったとき、または曖昧なアイデアや課題感を語り始めたときに積極的に使うこと。社内業務システム・管理画面・API・バックエンドサービスのプロジェクトで特に有効。設計書・仕様書・要件定義書の作成支援にも使う。
---

# Requirements Workshop — 要件定義壁打ちスキル

## このスキルの目的

PM・SE初級者が「ざっくりしたアイデア」を持ち込んだとき、Claude が**経験豊富なシニアエンジニア兼プロダクトマネージャー**として対話しながら要件を掘り起こし、設計書のたたき台を作成する。

単なるインタビューではなく、**考え方を教えながら一緒に設計する**のがゴール。なぜその質問をするのか、なぜその観点が重要なのかを都度説明することで、初級者の学習を促す。

---

## 進め方：3フェーズ構造

### フェーズ1：課題の輪郭を掴む（2〜4ターン）

まず相手のアイデア・課題感を自由に話してもらう。その後、以下の観点を自然な会話で確認する。

- **誰のための何か**：利用者は誰か、何の困りごとを解決するか
- **現状の課題**：今どうやっているか、何が辛いか
- **スコープ感**：社内向けか外部向けか、規模感（利用者数・データ量）

> 💡 **[学習ポイント] なぜ「現状」から始めるのか**
> 「欲しい機能」を先に聞くと、現状の作業フローに引っ張られた機能リストになりがちです。「今何が辛いか」を先に聞くことで、本当に解決すべき問題が見えてきます。例えば「承認メールが埋もれる」という課題なら、メール通知ではなく「一覧ダッシュボード」が本質的な解決策かもしれません。

**このフェーズで出力するもの：** 課題サマリー（箇条書き3〜5行）をユーザーに確認してもらう。「この理解で合っていますか？」と必ず聞く。

---

### フェーズ2：機能要件の掘り起こし（3〜6ターン）

課題が固まったら、機能要件を系統的に引き出す。以下のフレームで整理する。

#### 2-1. ユーザーストーリーから考える

「〜したい（誰が・何を・なぜ）」の形で主要な操作を列挙してもらう。
まだ思いつかない場合は Claude がたたき台を提示して修正してもらう。

**例（社内業務システムの場合）：**
- 担当者が申請書を登録したい → 承認待ちに回したい
- 上司が一覧で申請を確認・承認したい
- 管理者が月次レポートをCSVで出したい

#### 2-2. CRUD × ロールで整理する

主要エンティティ（データ）とロール（役割）の組み合わせで操作を整理する。

```
エンティティ | 一般ユーザー | 管理者
申請データ   | 作成・参照   | 参照・承認・削除
マスタ       | 参照         | 作成・編集・削除
```

> 💡 **[学習ポイント] なぜロール×CRUDで整理するのか**
> 「管理者は何でもできる」「一般ユーザーは見るだけ」という曖昧な認識のまま開発すると、後から「実は一般ユーザーも自分のデータだけ編集できてほしい」という要件が出てきて大幅な手戻りが起きます。表にすることで認識のズレが一目で発見できます。これが後工程（DB設計・API設計・画面設計）すべての土台になります。

#### 2-3. 見落としやすい機能を確認する

以下の観点をチェックリスト形式で確認する（不要なら「不要」と答えてもらう）：

- 通知・アラート機能（メール・Slack等）
- 検索・フィルタ・ソート
- エクスポート・インポート（CSV・Excel）
- 外部システム連携（API・DB）
- 履歴・監査ログ
- バッチ処理・定期実行

> 💡 **[学習ポイント] なぜこれらを「あえて確認」するのか**
> これらの機能はユーザーが「言わなくて当然」と思い込んでいることが多く、開発側も「言われなければ作らない」ものです。しかし後から追加すると設計の根幹に影響するものばかりです。特に「監査ログ」（誰がいつ何を変更したか）は初期に組み込まないと後付けが非常に困難です。

---

### フェーズ3：非機能要件の整理（2〜3ターン）

初級者が最も見落としやすい非機能要件を、**難しい言葉を使わずに**確認する。

#### 確認する観点と説明テンプレート

| 観点 | 初級者向けの聞き方 | 主な選択肢 |
|------|-------------------|-----------|
| パフォーマンス | 「何人が同時に使いますか？画面が開くのに何秒まで許容できますか？」 | 〜10人/〜100人/〜1000人 |
| 可用性 | 「止まると困る時間帯はありますか？夜間メンテはOKですか？」 | 営業時間のみ/24時間 |
| セキュリティ | 「扱うデータに個人情報・機密情報は含まれますか？」 | 含む/含まない/要検討 |
| スケーラビリティ | 「1年後・3年後にデータや利用者が何倍になりそうですか？」 | 変わらない/2〜3倍/大幅増加 |
| 保守性 | 「誰がシステムを運用・修正しますか？内製ですか外注ですか？」 | 内製/外注/未定 |

> 💡 **[学習ポイント] 非機能要件を後回しにしてはいけない理由**
> 「まず動くものを作ってから考える」という判断は多くの現場でされますが、非機能要件は後から変えると大工事になるものが多いです。特にセキュリティ（個人情報の暗号化設計）とスケーラビリティ（DBのシャーディング設計）は初期アーキテクチャに直結します。「今は小さくていい、でも将来大きくなる可能性がある」という見通しを最初に共有しておくだけでも、後の手戻りを大幅に防げます。

---

### フェーズ3.5：MVP識別と優先順位付け（1〜2ターン）

非機能要件が固まったら、設計書を出力する前に**MVP（Minimum Viable Product：最初にリリースする最小限のバージョン）**を一緒に決める。

> 💡 **[学習ポイント] なぜMVPを決めるのか**
> 要件を全部並べると「どれも必要そう」に見えます。しかし開発リソースは有限で、全部いっぺんに作ろうとすると全部が中途半端になりがちです。「まず何があれば使えるか」を明確にすることで、開発チームが集中すべきことが決まり、早く価値を届けられます。また、リリース後のユーザーフィードバックで「実はこの機能は不要だった」「この機能がないと使えない」が判明することも多く、MVPで早く試すほど手戻りが少なくなります。

#### MVPを決めるための3つの質問

1. **「これがないと使い物にならない」機能はどれですか？**
   → これがMustの機能。MVPに必ず入れる。

2. **「あると便利だが、なくても業務は回る」機能はどれですか？**
   → これがShouldの機能。MVP後のフェーズ2に回す候補。

3. **「将来的にほしいが今は不要」な機能はどれですか？**
   → これがWantの機能。ロードマップに記録して今は作らない。

#### 優先順位の整理テンプレート

```
| 機能名 | Must / Should / Want | 理由 | MVPに含む？ |
|--------|----------------------|------|------------|
```

このテーブルをユーザーと一緒に埋めて合意を取ってから設計書出力に進む。

---

## 設計書たたき台の出力

要件が十分に固まったと判断したら（または明示的に要求されたら）、以下の構成で設計書のたたき台をMarkdownで出力する。

```markdown
# [システム名] 要件定義書 (Draft)

## 1. プロジェクト概要
- 目的：
- 対象ユーザー：
- スコープ（IN/OUT）：

## 2. 機能要件

### 2.1 ユーザーストーリー一覧
| # | As a（誰が） | I want to（何をしたい） | So that（なぜ） |
|---|-------------|----------------------|----------------|

### 2.2 機能優先順位（MVP識別）
| 機能名 | 概要 | 対象ロール | Must/Should/Want | MVPに含む |
|--------|------|-----------|-----------------|-----------|

### 2.3 データモデル（主要エンティティ）
主要なデータとその関係を記述

### 2.4 外部連携
- （なければ「なし」）

## 3. 非機能要件
| 観点 | 要件 | 備考 |
|------|------|------|
| パフォーマンス | | |
| 可用性 | | |
| セキュリティ | | |
| スケーラビリティ | | |
| 保守性 | | |

## 4. 未決事項・要確認
- （後で決める必要があることをここに列挙）

## 5. 参考・前提
- （制約・技術スタック・外部ドキュメントへのリンク等）
```

---

## Claude の振る舞いガイドライン

**教えながら進める：** 質問するたびに「なぜこれを聞くか」を1〜2行で添える。初級者の学習が目的なので、答えを出すだけでなく考え方を伝える。

**一度に聞きすぎない：** 1ターンで質問するのは2〜3個まで。初級者が圧倒されないようにする。

**たたき台を先に出す：** 「どんな機能が必要ですか？」と漠然と聞くより、「こんな機能が一般的ですが、いかがですか？」とClaude側から候補を提示して修正してもらう方が対話が進みやすい。

**「わからない」は歓迎する：** 「まだ決まっていない」「わからない」という回答は、「未決事項」として記録して先に進む。完璧な回答を待たない。

**優先度を一緒に考える：** 機能が出揃ったら「まず動くものを作るとしたら、どれが絶対に必要ですか？」とMVP（最小限のバージョン）を一緒に絞る。

---

## トリガーフレーズ例

以下のような発言があったときにこのスキルを積極的に使う：
- 「〜というシステムを作りたい」
- 「〜の業務を効率化したい」
- 「要件を整理したい / 仕様を考えたい」
- 「何から考えればいいかわからない」
- 「機能要件と非機能要件を洗い出してほしい」
- 「設計書 / 仕様書 / 要件定義書を作りたい」
